%% Installation of the GUI

The files contain two standalone packages:

1. Windows
2. Mac

Select the option that corresponds to your OS and run the MyAppInstaller file located in the for_distribution folder
Once the installation is complete the NPBayes_fMRI executable (or app) file should work.


% Instructions for running the example dataset.

Once you run NPBayes_fMRI, select Model Fitting and follow the instructions below:

1.Define the output directory by clicking on "OUTPUT"
2.Insert 30 for Number of Subjects
3.For 2D or 3D Analysis, select "3-Dimensional" and insert the following for each options:
	- Matrix of ROI names: Insert the ROI_names.mat file found on the Example\MARSBAR_ROIs subfolder
        - Neighbor Matrix: Select the nei_vec.mat file on the Example folder
        - ROI NIFTI Directory: Select the Example\MARSBAR_ROIs folder
        - Brain Template Image: Select 'Load Nifti Brain Template Image' and load the ch2.nii file found in the Example folder
4. For "Data Files", select: 
a). data.mat file found on the Example folder
For long time-points select:
a) multi_data.mat file found on the Example folder for the multiple simulus case
b) single_data.mat file found on the Example folder for the single simulus case
5. For Parameter Setting select the default setting by clicking "yes"

6. Initiate model fitting by pressing "Run Model"

% To visualize the results, select Visualization and load the result.mat file located in the output directory using Load Output

Once the process is complete, you can load the result.mat file located in the output directory
% Guideline for viewing results

Select Visualization from NPBayes_fMRI and load the result.mat file obtained from running the model using the above instrutions.

% There are a couple thing to keep in mind while using the Visualization part of the GUI.

- If you close the figure plot after visualization, changing the sliders or other input parameters will not return a new figure.
 You will have to restart from Visualization and select the viewing options.
- If you observe that some of the parameters (False Discovery Rate or PPI) or figures are not being updated properly, press the refresh button.
	- For 3D Analysis, if you are using a Reference Image and trying to control the transparency of the overlayed image using the transparency bar, 
	  use the refresh button for the change to apply.
- Plotting can take some time while applying an overlay image. Do not move the figure plot or control figure while a visualization is taking place. 
  If you move around while the GUI is plotting something, the displayed figured may be plotted in the control figure, not the actual figure plot.
- For smooth experience of the GUI, while using the sliders, you may find it easier to drag the slider around the location where you want it to be, and then 
use the arrows to adjust the value for precision (Rather than using the arrows to get to the location/value you want). 



